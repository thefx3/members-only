<section class="posts-list">
    <% if (posts && posts.length) { %>
      <% posts.forEach((post) => { 
        const canEdit = (user && user.id === post.iduser);
        const isAdmin = (user && user.role === 'admin');
      %>
        <article class="post-card">
          <header>
            <div class="header-line">
              <h2><%= post.title %></h2>
              <% if (canEdit || isAdmin) { %>
                <a href="/update-post/<%= post.idpost %>" class="edit-post access-granted">Edit</a>
              <% } else { %>
                <a class="edit-post access-denied">Edit</a>
              <% } %>
            </div>

            <p class="post-meta">
              Published by <strong><%= post.author %></strong> on <%= post.date %>
            </p>
          </header>
          <p><%= post.content %></p>
        </article>
      <% }) %>
    <% } else { %>
      <p class="empty-posts">
        No posts yet.
      </p>
    <% } %>
  </section>
  
